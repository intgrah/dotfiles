monitor=,preferred,auto,1

env = WLR_DRM_DEVICES=/dev/dri/card1
env = LIBVA_DRIVER_NAME,iHD
env = __GLX_VENDOR_LIBRARY_NAME,mesa
env = ELECTRON_OZONE_PLATFORM_HINT,auto
env = GDK_SCALE,1.25
env = QT_SCALE_FACTOR,1.25

xwayland {
    force_zero_scaling = true
}

exec-once = quickshell
exec-once = mako
exec-once = /usr/lib/hyprpolkitagent/hyprpolkitagent
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = hypridle
exec-once = playerctld daemon
exec-once = mpd-mpris

general {
    border_size = 2
    no_border_on_floating = false

    gaps_in = 0
    gaps_out = 0
    float_gaps = 0
    gaps_workspaces = 0

    col.inactive_border = rgb(313244)
    col.active_border = rgb(585b70)
    col.nogroup_border = rgb(45475a)
    col.nogroup_border_active = rgb(f5c2e7)

    layout = dwindle
    no_focus_fallback = false

    resize_on_border = true
    extend_border_grab_area = 15
    hover_icon_on_border = true

    allow_tearing = false
    resize_corner = 0
}

decoration {
    rounding = 0
    rounding_power = 2.0

    active_opacity = 1.0
    inactive_opacity = 1.0
    fullscreen_opacity = 1.0

    dim_inactive = true
    dim_strength = 0.0
    dim_special = 0.0
    dim_around = 0.0

    screen_shader =
    border_part_of_window = true

    blur {
        enabled = false
    }

    shadow {
        enabled = false
    }
}

animations {
    enabled = true

    bezier = snappy, 0.3, 1.0, 0.4, 1.0
    bezier = smoothOut, 0.36, 0, 0.66, -0.56
    bezier = smoothIn, 0.25, 1, 0.5, 1

    animation = windowsIn, 0
    animation = windowsOut, 1, 3, smoothIn, popin 95%
    animation = windowsMove, 1, 2, snappy
    animation = border, 1, 5, default
    animation = fade, 1, 3, smoothIn
    animation = fadeDim, 1, 3, smoothIn
    animation = workspaces, 1, 4, snappy
}

input {
    kb_model =
    kb_layout = gb
    kb_variant =
    kb_options =
    kb_rules =
    kb_file =

    numlock_by_default = false
    resolve_binds_by_sym = false

    repeat_rate = 48
    repeat_delay = 500

    sensitivity = 0.25 # -1.0 to 1.0
    accel_profile =
    force_no_accel = false

    left_handed = false

    scroll_points =
    scroll_method = 2fg
    scroll_button = 0
    scroll_button_lock = false
    scroll_factor = 1.0

    natural_scroll = false

    follow_mouse = 1
    follow_mouse_threshold = 0.0

    focus_on_close = 0
    mouse_refocus = true
    float_switch_override_focus = 1
    special_fallthrough = true
    off_window_axis_events = 1
    emulate_discrete_scroll = 1

    touchpad {
        disable_while_typing = true
        natural_scroll = false
        scroll_factor = 1.0
        middle_button_emulation = false
        tap_button_map =
        clickfinger_behavior = false
        tap-to-click = true
        drag_lock = 0
        tap-and-drag = true

        flip_x = false

        flip_y = false
        drag_3fg = 0
    }
}

dwindle {
    pseudotile = true
    preserve_split = true
}

master {
    new_status = master
}

misc {
    disable_hyprland_logo = true
    force_default_wallpaper = 0
}

ecosystem {
    no_update_news = true
    no_donation_nag = true
}

windowrulev2 = opacity 0.9 0.7,class:^(kitty)$
windowrulev2 = float,class:^(floating-terminal)$
windowrulev2 = size 60% 60%,class:^(floating-terminal)$
windowrulev2 = center,class:^(floating-terminal)$

windowrulev2 = float,class:^(xdg-desktop-portal-gtk)$
windowrulev2 = size 60% 60%,class:^(xdg-desktop-portal-gtk)$
windowrulev2 = center,class:^(xdg-desktop-portal-gtk)$

windowrulev2 = float,title:^(termfilechooser)$
windowrulev2 = size 60% 60%,title:^(termfilechooser)$
windowrulev2 = center,title:^(termfilechooser)$

$mainMod = SUPER

bind = , F1, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind = , F2, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bind = , F3, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bind = , F4, exec, playerctl play-pause
bind = , F6, exec, brightnessctl set 5%-
bind = , F9, exec, ~/.config/hypr/scripts/toggle-keyboard.fish
bind = , F7, exec, brightnessctl set 5%+
bind = , F10, exec, pgrep -x slurp || grim -g "$(slurp)" - | wl-copy

plugin {
    split-monitor-workspaces {
        count = 10
        keep_focused = 0
        enable_notifications = 0
        enable_persistent_workspaces = 0
    }
}

# Workspaces (per-monitor via split-monitor-workspaces plugin)
bind = $mainMod, 1, split-workspace, 1
bind = $mainMod SHIFT, 1, split-movetoworkspace, 1
bind = $mainMod, 2, split-workspace, 2
bind = $mainMod SHIFT, 2, split-movetoworkspace, 2
bind = $mainMod, 3, split-workspace, 3
bind = $mainMod SHIFT, 3, split-movetoworkspace, 3
bind = $mainMod, 4, split-workspace, 4
bind = $mainMod SHIFT, 4, split-movetoworkspace, 4
bind = $mainMod, 5, split-workspace, 5
bind = $mainMod SHIFT, 5, split-movetoworkspace, 5
bind = $mainMod, 6, split-workspace, 6
bind = $mainMod SHIFT, 6, split-movetoworkspace, 6
bind = $mainMod, 7, split-workspace, 7
bind = $mainMod SHIFT, 7, split-movetoworkspace, 7
bind = $mainMod, 8, split-workspace, 8
bind = $mainMod SHIFT, 8, split-movetoworkspace, 8
bind = $mainMod, 9, split-workspace, 9
bind = $mainMod SHIFT, 9, split-movetoworkspace, 9
bind = $mainMod, 0, split-workspace, 10
bind = $mainMod SHIFT, 0, split-movetoworkspace, 10

# Switch monitor focus
bind = $mainMod, Tab, focusmonitor, +1
bind = $mainMod SHIFT, Tab, focusmonitor, -1

# Move window to other monitor
bind = $mainMod CTRL, Tab, movewindow, mon:+1

bind = $mainMod SHIFT, Q, killactive,
bind = $mainMod, W, exec, kitty
bind = $mainMod SHIFT, W, exec, kitty --class floating-terminal
bind = $mainMod, E, exec, kitty -e yazi
bind = $mainMod CTRL SHIFT, E, exec, loginctl kill-session $XDG_SESSION_ID
bind = $mainMod SHIFT, R, exec, hyprctl reload
bind = $mainMod, P, pseudo,

bind = $mainMod, A, exec, ~/.config/hypr/scripts/toggle-keyboard.fish
bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic
bind = $mainMod, D, exec, date +%s%N > /tmp/quickshell-launcher-toggle
bind = $mainMod, F, fullscreen, 1
bind = $mainMod SHIFT, F, fullscreen, 0
bind = $mainMod, G, togglesplit,
bind = $mainMod, H, movefocus, l
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod CTRL, H, resizeactive, -20 0
bind = $mainMod, J, movefocus, d
bind = $mainMod SHIFT, J, movewindow, d
bind = $mainMod CTRL, J, resizeactive, 0 20
bind = $mainMod, K, movefocus, u
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod CTRL, K, resizeactive, 0 -20
bind = $mainMod, L, movefocus, r
bind = $mainMod SHIFT, L, movewindow, r
bind = $mainMod CTRL, L, resizeactive, 20 0
bind = $mainMod CTRL SHIFT, L, exec, hyprlock


bind = $mainMod, C, exec, date +%s%N > /tmp/quickshell-clipboard-toggle
bind = $mainMod SHIFT, C, exec, hyprpicker -a
bind = $mainMod, V, togglefloating,

bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
